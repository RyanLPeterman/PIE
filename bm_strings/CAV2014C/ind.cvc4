(set-option :produce-models true)
(set-option :strings-fmf true)

(set-logic QF_S)

(declare-const r String)
(declare-const i Int)

;; Invariant :: (> (str.len r) i) && (i >= 0) && (str.contains r "a")

(define-fun ind_check () Bool
            (=> (and (> (str.len r) i) (>= i 0) (str.contains r "a"))
                (and (> (str.len (str.replace r "a" "aa")) (+ i 1)) (>= (+ i 1) 0) (str.contains r "a"))))

(assert (not ind_check))
(check-sat)

(get-value (r i))
